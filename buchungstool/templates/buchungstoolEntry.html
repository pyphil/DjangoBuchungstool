<!-- <head>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
    crossorigin="anonymous"></script>
</head> -->
<style>
	.custom-width {
    width: 152px !important;
	}
</style>

{% extends 'base.html' %}  
{% block content %}

<div class="container">
  {% if buttontext == "" %}
    <h2>Eintrag hinzufügen</h2> 
  {% else %}
    <h2>Eintrag ändern:</strong></h2>
  {% endif %}
  <h5 class="mt-3"><strong>Datum: </strong>{{ date }}, {{ std }}. Stunde</h5>
  <h5 class="mt-3"><strong>Raum/Gerät:</strong> {{room_text}}</h5>
  <form action="{% url 'buchungstoolHome' %}" method="POST">
    {% csrf_token %}
    <div class="mb-3">
      <label class="mt-3" for="saveKrzl" class="form-label">Kürzel:</label>
      <input type="text" class="form-control mt-2" name="krzl" value="{{ krzl }}" />
      <label class="mt-3" for="saveLerngruppe" class="form-label">Buchen für Lerngruppe:</label>
      <input type="text" class="form-control mt-2" name="lerngruppe" value="{{ buttontext }}" />
      <input type="hidden" name="date" value="{{ isodate }}" />
      <input type="hidden" name="buttondate" value="{{ date }}" />
      <input type="hidden" name="std" value="{{ std }}" />
      <input type="hidden" name="room" value="{{ room }}" />
      <input type="hidden" name="room_text" value="{{ room_text }}" />
      <br>

      <div class="accordion mb-5" id="accordionSerie">
        <div class="accordion-item">
          <h2 class="accordion-header" id="headingOne">
            <!-- <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne"> -->
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
              data-bs-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
              Serientermin buchen
            </button>
          </h2>
          <!-- <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#accordionSerie"> -->
          
            <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="headingOne" data-bs-parent="#accordionSerie">
              <div class="accordion-body">
                <div class="row align-items-center">
                  <div class="col-auto">
                    <label for="date"> Termin bis zu folgendem Datum <strong>wöchentlich wiederholen:</strong> </label>
                  </div>
                  <div class="col-2">
                    <select name="selection" class="form-select custom-width" aria-label="Default select example">  
                      {% for date in date_series %}
                        <option value="{{date.item}}">{{date.date}}, {{date.item}}</option>
                      {% endfor %}
                    </select>
                  </div>
                </div>
              </div>
            </div>
        </div>
      </div>

      {% if buttontext == "" %}
      <button type="submit" class="btn btn-primary">Speichern</button>
      {% else %}
      <button type="submit" name="save" value="save" class="btn btn-warning">Eintrag ändern</button>
      <button type="submit" class="btn btn-danger" name="delete" value="delete">Eintrag löschen</button>
      {% endif %}
      <button type="submit" class="btn btn-secondary" value="cancel" name="cancel">Abbrechen</button>
    </div>
  </form>
</div>

{% endblock content %}